<html xmlns:th="http://www.thymeleaf.org/">
<div th:fragment="navLeft" class="pl-3 pr-3 m-0 d-flex flex-column col-md-2 col-sm-3 h-100 justify-content-center">
    <header class="text-center p-0 m-0 secondary-border-color border-bottom">
        <h1 class="m-3 display-4" th:href="@{/main}">VOCI</h1>
    </header>
    <div class="flex-grow-1 overflow-auto">

        <!-- content of left column -->
        <ul class="nav nav-pills pt-4 flex-column">

            <li class="nav-item">
                <a class="nav-link btn btn-success active text-center" th:href="@{/main}">
                    Home
                </a>
            </li>

            <!-- inner navbar for room-list-->
            <li class="nav-item mt-4 pt-3 border-top secondary-border-color">
                <h5 class="pb-2">ROOMS</h5>
                <div th:each="room: ${roomsList}"
                     class="btn btn-block text-center text-light secondary-bg-color rounded" th:href="@{/main}">
                    <span th:text="${room.roomName}" class=""></span>
                </div>
                <p th:if="${roomsList.isEmpty()}" class="text-warning text-center">
                    You don't have any Rooms, yet.
                </p>

            </li>
            <li class="nav-item pt-3 mt-1 text-center">
                <a class="btn btn-outline-success text-center" data-toggle="modal" data-target="#addRoomModal">
                    Add Room
                </a>
            </li>

        </ul>
    </div>

    <!-- Modal for adding room -->
    <div th:replace="fragments/modal :: addRoomModal"></div>
</div>

<div th:fragment="navRight" class="p-0 m-0 col-lg-3 border-left main-border-color flex-column d-flex h-100">
    <h5 class="pb-2 m-3 mt-4">CONTACTS</h5>

    <div class="overflow-auto flex-grow-1">
        <div th:each="contact: ${contactsList}" class="">
            <form class="d-flex flex-row p-2 m-1 border-bottom main-border-color"
                  th:action="@{/main/deleteContact/(contactName=${contact.userName})}"
                  th:method="delete">

                <p th:text="${contact.userName}" class="col-11 m-0 p-0"></p>
                <button type="submit" class="btn col-1 m-0 p-0 text-light"><i
                        class="material-icons">delete</i></button>
            </form>
        </div>
        <p th:if="${contactsList.isEmpty()}" class="text-warning text-center">
            You don't have any Contacts, yet.
        </p>
        <div class="flex-row justify-content-center text-center p-3">
            <p th:text="${errorMsg}" class="text-danger"></p>
            <a class="btn btn-outline-success" data-toggle="modal" data-target="#addContactModal">
                Add Contact
            </a>
        </div>
    </div>

    <!-- logout button -->
    <div class="text-center p-4">
        <a th:href="@{/logout}" class="btn btn-outline-danger">Logout</a>
    </div>

    <!-- Modal for adding contact -->
    <div th:replace="fragments/modal :: addContactModal"></div>
</div>


</html>